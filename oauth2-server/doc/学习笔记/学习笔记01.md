



BasicAuthenticationFilter
：
1、处理 包含 Basic 请求头的 HTTP request请求, 并将结果存入 SecurityContextHolder
2、Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ== Basic后的字符为 username:password base64编码的字符串



 AbstractTokenGranter{
	//对 TokenRequest 进行认证 ，认证成功则返回 Oauth2AccessToken
	public OAuth2AccessToken grant(String grantType, TokenRequest tokenRequest){
		//
	}

 }



ResourceOwnerPasswordTokenGranter extends AbstractTokenGranter

重写了抽象类 AbstractTokenGranter 的 getOAuth2Authentication 方法



基础认证过滤器类 ：BasicAuthenticationFilter：
		doFilterInternal(HttpServletRequest request,HttpServletResponse response, FilterChain chain)
			{
				认证器提供者管理类：ProviderManager
					{
						//对认证器进行迭代，认证的过程是：AuthenticationProvider 调用内部的业务类【有默认实现类，也可自定义】进行数据校验
						for (AuthenticationProvider provider : getProviders()){
							Authentication result = provider.authenticate(authentication);
						}
					}



			}


			postAccessToken




	//授权码模式： AccessToken 的存储方式
	//接口 AuthorizationCodeServices，抽象类 RandomValueAuthorizationCodeServices
	实现类：JdbcAuthorizationCodeServices、InMemoryAuthorizationCodeServices 【数据库 | 内存】
	@Bean
	protected AuthorizationCodeServices authorizationCodeServices() {
		return new JdbcAuthorizationCodeServices(dataSource);
	}



	@Override
    public void configure(final AuthorizationServerSecurityConfigurer security) throws Exception {
        //password模式 配置 token store, token,customizations, user approvals and grant types
    }


	@Override
    public void configure(ClientDetailsServiceConfigurer clients) {
		//Configure the ClientDetailsService
	}
